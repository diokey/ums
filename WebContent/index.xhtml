<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
   	  xmlns:c="http://java.sun.com/jsp/jstl/core">

	<f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <meta charset="utf-8"/>
                
            </f:facet>
			<f:loadBundle basename="ui_messages_#{locale.selectedLanguage}" var="uiMessages"/>
			<title><ui:insert name="title">#{uiMessages.applicationTitle}</ui:insert></title>
            <link type="text/css" rel="stylesheet" href="#{request.contextPath}/assets/css/default.css" />
                        
        </h:head>

        <h:body>
        	<div id="login-container">
        		<h:messages showDetail="true" autoUpdate="true"></h:messages>
        		<p:panel header="Log in" styleClass="login-panel">
				<h:form id="loginForm">
					<h:panelGroup layout="block" style="height:34px; width : 70%;margin:auto;">
						<p:message id="loginMsg" for="loginBtn"></p:message>
					</h:panelGroup>
					
					<h:panelGrid columns="2">
						<h:outputLabel value="#{uiMessages.username}" for="username" />
						<h:panelGroup layout="block">
							<p:inputText id="username" value="#{loginBean.user.username}"
								required="true" requiredMessage="The username field is required">
							</p:inputText>
							<p:message id="usernameMsg" for="username"></p:message>
						</h:panelGroup>
						<h:outputLabel value="#{uiMessages.password}" for="password" />
						<h:panelGroup layout="block">
							<p:password required="true"
								requiredMessage="Password is required"
								value="#{loginBean.user.userPassword}" id="password"></p:password>
							<p:message id="passwordMsg" for="password"></p:message>
						</h:panelGroup>

						<p></p>
						<h:panelGroup layout="block">
							
							<p:commandButton id="loginBtn" icon="ui-icon-unlocked"
								actionListener="#{loginBean.chechkLogin}" validateClient="true"
								value="#{uiMessages.login}" update="usernameMsg,passwordMsg,loginMsg"></p:commandButton>
							
						</h:panelGroup>	
					</h:panelGrid>
					<p:spacer></p:spacer>
				</h:form>
			</p:panel>
        		
        	</div>
        </h:body>
        
        </f:view>
			
</html>